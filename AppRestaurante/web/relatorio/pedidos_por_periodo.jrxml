<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="pedidos_por_periodo" pageWidth="595" pageHeight="842" whenNoDataType="NoDataSection" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="3dd603b1-2e2a-4abc-9766-c56519f29884">
	<property name="ireport.zoom" value="1.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<parameter name="dt_inicial" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="dt_final" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="restaurante_codigo" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="dt_f" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="dt_i" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[select SUM(pedido_preco_total) AS total,
m.mesa_numero,
p.pedido_codigo,
p.pedido_data,
p.pedido_preco_total,
m.restaurante_codigo

from tb_pedido p
inner join tb_mesa m on m.mesa_codigo = p.mesa_codigo

where m.restaurante_codigo = $P{restaurante_codigo}
and p.pedido_data BETWEEN TIMESTAMP($P{dt_inicial},'%d/%m/%Y') AND TIMESTAMP($P{dt_final},'%d/%m/%Y')

GROUP BY p.pedido_codigo]]>
	</queryString>
	<field name="total" class="java.math.BigDecimal"/>
	<field name="mesa_numero" class="java.lang.Integer">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="pedido_codigo" class="java.lang.Integer">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="pedido_data" class="java.sql.Timestamp">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="pedido_preco_total" class="java.math.BigDecimal">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="restaurante_codigo" class="java.lang.Integer">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<variable name="total" class="java.math.BigDecimal" resetType="Group" resetGroup="pedido" calculation="Sum">
		<variableExpression><![CDATA[$F{total}]]></variableExpression>
	</variable>
	<group name="pedido">
		<groupExpression><![CDATA[$F{restaurante_codigo}]]></groupExpression>
		<groupHeader>
			<band height="40">
				<staticText>
					<reportElement mode="Opaque" x="0" y="20" width="131" height="20" backcolor="#C7C8CA" uuid="68addebd-488e-4b55-bdd5-aee98e140921"/>
					<box leftPadding="2">
						<pen lineWidth="1.0"/>
						<topPen lineWidth="1.0"/>
						<leftPen lineWidth="1.0"/>
						<bottomPen lineWidth="1.0"/>
						<rightPen lineWidth="1.0"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font size="10" isBold="true"/>
					</textElement>
					<text><![CDATA[Mesa]]></text>
				</staticText>
				<staticText>
					<reportElement mode="Opaque" x="131" y="20" width="130" height="20" backcolor="#C7C8CA" uuid="8b050886-7efc-43f7-8678-b6a94b6b50bb"/>
					<box leftPadding="2">
						<pen lineWidth="1.0"/>
						<topPen lineWidth="1.0"/>
						<leftPen lineWidth="1.0"/>
						<bottomPen lineWidth="1.0"/>
						<rightPen lineWidth="1.0"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font size="10" isBold="true"/>
					</textElement>
					<text><![CDATA[Pedido]]></text>
				</staticText>
				<staticText>
					<reportElement mode="Opaque" x="261" y="20" width="156" height="20" backcolor="#C7C8CA" uuid="a3417d44-317f-4233-a7d0-3ce815912efd"/>
					<box leftPadding="2">
						<pen lineWidth="1.0"/>
						<topPen lineWidth="1.0"/>
						<leftPen lineWidth="1.0"/>
						<bottomPen lineWidth="1.0"/>
						<rightPen lineWidth="1.0"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font size="10" isBold="true"/>
					</textElement>
					<text><![CDATA[Data]]></text>
				</staticText>
				<staticText>
					<reportElement mode="Opaque" x="417" y="20" width="137" height="20" backcolor="#C7C8CA" uuid="1c49114e-0eee-42dd-8c7a-17aa9ff8b0f5"/>
					<box leftPadding="2">
						<pen lineWidth="1.0"/>
						<topPen lineWidth="1.0"/>
						<leftPen lineWidth="1.0"/>
						<bottomPen lineWidth="1.0"/>
						<rightPen lineWidth="1.0"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font size="10" isBold="true"/>
					</textElement>
					<text><![CDATA[Total pago]]></text>
				</staticText>
			</band>
		</groupHeader>
		<groupFooter>
			<band height="35">
				<textField pattern="#,##0.00" isBlankWhenNull="true">
					<reportElement x="417" y="0" width="137" height="20" uuid="99a56ad3-188b-4337-b47e-d79f05683f53"/>
					<box rightPadding="2">
						<pen lineWidth="1.0"/>
						<topPen lineWidth="1.0"/>
						<leftPen lineWidth="1.0"/>
						<bottomPen lineWidth="1.0"/>
						<rightPen lineWidth="1.0"/>
					</box>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font size="8"/>
					</textElement>
					<textFieldExpression><![CDATA[$V{total}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="317" y="0" width="100" height="20" uuid="2b5020d4-8bf0-4d9f-93b1-e6fab0eb46f2"/>
					<box rightPadding="2">
						<topPen lineWidth="1.0"/>
						<leftPen lineWidth="1.0"/>
						<bottomPen lineWidth="1.0"/>
						<rightPen lineWidth="1.0"/>
					</box>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font isBold="true"/>
					</textElement>
					<text><![CDATA[TOTAL:]]></text>
				</staticText>
			</band>
		</groupFooter>
	</group>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="80" splitType="Stretch">
			<staticText>
				<reportElement x="0" y="27" width="555" height="30" uuid="ab7dcee9-302b-44c4-a350-bb3c95939b45"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="16" isBold="true"/>
				</textElement>
				<text><![CDATA[Relatório de Pedidos]]></text>
			</staticText>
		</band>
	</title>
	<pageHeader>
		<band height="30" splitType="Stretch">
			<textField pattern="dd/MM/yyyy" isBlankWhenNull="false">
				<reportElement x="366" y="10" width="80" height="20" uuid="2f1b994d-6b5f-49e6-ab11-38bb69577ca9"/>
				<box leftPadding="2" rightPadding="2"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{dt_i}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="290" y="10" width="76" height="20" uuid="21fae83b-28a7-4a41-af0b-7bbf67c0cbe3"/>
				<box leftPadding="2" rightPadding="2"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font size="10" isBold="true"/>
				</textElement>
				<text><![CDATA[Período:]]></text>
			</staticText>
			<textField pattern="dd/MM/yyyy">
				<reportElement x="475" y="10" width="80" height="20" uuid="33d20a54-8b11-4d39-a42c-1e53ee7e28a0"/>
				<box leftPadding="2" rightPadding="2"/>
				<textElement verticalAlignment="Middle">
					<font size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{dt_f}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="446" y="10" width="29" height="20" uuid="831c5f18-84dc-40ad-b923-bc18ec080897"/>
				<box leftPadding="2" rightPadding="2"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="10" isBold="true"/>
				</textElement>
				<text><![CDATA[até]]></text>
			</staticText>
		</band>
	</pageHeader>
	<columnHeader>
		<band splitType="Stretch"/>
	</columnHeader>
	<detail>
		<band height="20" splitType="Stretch">
			<textField isBlankWhenNull="true">
				<reportElement x="0" y="0" width="131" height="20" uuid="bf3269c8-742a-424b-b16d-93ef4ee1be30"/>
				<box leftPadding="2">
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{mesa_numero}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="131" y="0" width="130" height="20" uuid="f684b87d-0a05-4d4c-8e64-e74bc925c4cb"/>
				<box leftPadding="2">
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[$F{pedido_codigo}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00" isBlankWhenNull="true">
				<reportElement x="417" y="0" width="137" height="20" uuid="bbccf341-90f8-498d-83db-ad68cf5a3238"/>
				<box rightPadding="2">
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{pedido_preco_total}]]></textFieldExpression>
			</textField>
			<textField pattern="dd/MM/yyyy HH.mm.ss" isBlankWhenNull="true">
				<reportElement x="261" y="0" width="156" height="20" uuid="2a58d4d9-21af-456a-aef7-8bd613c428a8"/>
				<box rightPadding="2">
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{pedido_data}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<columnFooter>
		<band splitType="Stretch"/>
	</columnFooter>
	<pageFooter>
		<band splitType="Stretch"/>
	</pageFooter>
	<summary>
		<band splitType="Stretch"/>
	</summary>
	<noData>
		<band height="30">
			<staticText>
				<reportElement x="0" y="5" width="555" height="20" uuid="42fa0818-e9e0-480f-8196-66d0d97c1c05"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[Nenhum Pedido encontrado]]></text>
			</staticText>
		</band>
	</noData>
</jasperReport>
